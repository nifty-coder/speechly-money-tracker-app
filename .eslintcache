[{"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\index.js":"1","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\App.jsx":"2","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\context\\context.js":"3","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\styles.js":"4","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\context\\contextActionTypes.js":"5","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\context\\contextReducer.js":"6","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\index.js":"7","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\Main.jsx":"8","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Confirmation\\Confirmation.jsx":"9","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Details\\Details.jsx":"10","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\SpeechlySuggestions.jsx":"11","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Details\\styles.js":"12","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\useTransactions.js":"13","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Confirmation\\styles.js":"14","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\utils\\commafy.js":"15","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\constants\\categories.js":"16","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\List\\List.jsx":"17","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\Form\\Form.jsx":"18","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\styles.js":"19","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\List\\styles.js":"20","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\Form\\styles.js":"21","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\utils\\formatDate.js":"22"},{"size":559,"mtime":1615246319518,"results":"23","hashOfConfig":"24"},{"size":3828,"mtime":1615243363256,"results":"25","hashOfConfig":"24"},{"size":1202,"mtime":1609538140397,"results":"26","hashOfConfig":"24"},{"size":625,"mtime":1614564639338,"results":"27","hashOfConfig":"24"},{"size":181,"mtime":1609537050848,"results":"28","hashOfConfig":"24"},{"size":669,"mtime":1609537050848,"results":"29","hashOfConfig":"24"},{"size":269,"mtime":1609537050845,"results":"30","hashOfConfig":"24"},{"size":1502,"mtime":1615242925588,"results":"31","hashOfConfig":"24"},{"size":793,"mtime":1609537050838,"results":"32","hashOfConfig":"24"},{"size":811,"mtime":1614566460975,"results":"33","hashOfConfig":"24"},{"size":484,"mtime":1615241630587,"results":"34","hashOfConfig":"24"},{"size":255,"mtime":1609537050841,"results":"35","hashOfConfig":"24"},{"size":1120,"mtime":1609537050850,"results":"36","hashOfConfig":"24"},{"size":194,"mtime":1609537050839,"results":"37","hashOfConfig":"24"},{"size":440,"mtime":1609543148863,"results":"38","hashOfConfig":"24"},{"size":1691,"mtime":1609537050846,"results":"39","hashOfConfig":"24"},{"size":2170,"mtime":1615241568017,"results":"40","hashOfConfig":"24"},{"size":5180,"mtime":1615238882910,"results":"41","hashOfConfig":"24"},{"size":502,"mtime":1609537050845,"results":"42","hashOfConfig":"24"},{"size":411,"mtime":1609537050844,"results":"43","hashOfConfig":"24"},{"size":243,"mtime":1609537050842,"results":"44","hashOfConfig":"24"},{"size":137,"mtime":1609542252477,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"1w166lm",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"48"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\index.js",[],["93","94"],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\App.jsx",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\context\\context.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\styles.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\context\\contextActionTypes.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\context\\contextReducer.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\index.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\Main.jsx",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Confirmation\\Confirmation.jsx",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Details\\Details.jsx",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\SpeechlySuggestions.jsx",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Details\\styles.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\useTransactions.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Confirmation\\styles.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\utils\\commafy.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\constants\\categories.js",[],["95","96"],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\List\\List.jsx",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\Form\\Form.jsx",["97"],"import React, { useState, useEffect, useContext } from 'react';\r\nimport { TextField, Typography, Grid, Button, FormControl, InputLabel, Select, MenuItem } from '@material-ui/core';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport formatDate from '../../../utils/formatDate';\r\nimport { FinanceTrackerContext } from '../../../context/context';\r\nimport { incomeCategories, expenseCategories } from '../../../constants/categories';\r\nimport useStyles from './styles'; \r\nimport { useSpeechContext } from '@speechly/react-client';\r\nimport Confirmation from '../../Confirmation/Confirmation';\r\n\r\nconst Form = ({editMode, state}) => {\r\n  const initialState = {\r\n    amount: editMode ? state.amount : '',\r\n    category: editMode ? state.category : '',\r\n    type: editMode ? state.type : '',\r\n    date: editMode ? state.date : formatDate(new Date())\r\n  };\r\n\r\n    const classes = useStyles();\r\n    const [formData, setFormData] = useState(initialState);\r\n    const { addTransaction } = useContext(FinanceTrackerContext);\r\n    const { segment } = useSpeechContext();\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const createTransaction = () => {\r\n        if(Number.isNaN(Number(formData.amount)) || !formData.amount || !formData.category || !formData.type || !formData.date) {\r\n            return;\r\n        }\r\n\r\n        const transaction = { ...formData, amount: Number(formData.amount), id: uuidv4() };  \r\n        addTransaction(transaction);\r\n        setOpen(true);\r\n        setFormData(initialState);\r\n    };   \r\n    \r\n    useEffect(() => {\r\n        if (segment) {\r\n          if (segment.intent.intent === 'add_expense') {\r\n            setFormData({ ...formData, type: 'Expense' });\r\n          } else if (segment.intent.intent === 'add_income') {\r\n            setFormData({ ...formData, type: 'Income' });\r\n          } else if (segment.isFinal && segment.intent.intent === 'create_transaction') {\r\n            return createTransaction();\r\n          } else if (segment.isFinal && segment.intent.intent === 'cancel_transaction') {\r\n            return setFormData(initialState);\r\n          }\r\n    \r\n          segment.entities.forEach((s) => {\r\n            const category = `${s.value.charAt(0)}${s.value.slice(1).toLowerCase()}`;\r\n    \r\n            switch (s.type) {\r\n              case 'amount':\r\n                setFormData({ ...formData, amount: s.value });\r\n                break;\r\n              case 'category':\r\n                if (incomeCategories.map((iC) => iC.type).includes(category)) {\r\n                  setFormData({ ...formData, type: 'Income', category });\r\n                } else if (expenseCategories.map((eC) => eC.type).includes(category)) {\r\n                  setFormData({ ...formData, type: 'Expense', category });\r\n                }\r\n                break;\r\n              case 'date':\r\n                setFormData({ ...formData, date: s.value });\r\n                break;\r\n              default:\r\n                break;\r\n            }\r\n          });\r\n    \r\n          if (segment.isFinal && formData.amount && formData.category && formData.type && formData.date) {\r\n            createTransaction();\r\n          }\r\n        }\r\n      }, [segment]);    \r\n\r\n    const selectedCategories = formData.type === \"Income\" ? incomeCategories : expenseCategories;\r\n\r\n    return (\r\n      <Grid container spacing={2}>\r\n        <Confirmation open={open} setOpen={setOpen} severity=\"success\" message=\"Transaction successfully added!\" />\r\n          <Grid item xs={12}>\r\n              <Typography variant=\"subtitle2\" align=\"center\" gutterBottom>\r\n                {segment && segment.words.map((w) => w.value.toLowerCase()).join(\" \")}\r\n              </Typography>\r\n          </Grid>\r\n          \r\n          <Grid item xs={6}>\r\n              <FormControl fullWidth>\r\n                  <InputLabel>Type</InputLabel>\r\n                  <Select value={formData.type} onChange={(e) => setFormData({ ...formData, type: e.target.value })}>\r\n                      <MenuItem value=\"Income\">Income</MenuItem>\r\n                      <MenuItem value=\"Expense\">Expense</MenuItem>\r\n                  </Select>\r\n              </FormControl>\r\n          </Grid>\r\n\r\n          <Grid item xs={6}>\r\n              <FormControl fullWidth>\r\n                  <InputLabel>Category</InputLabel>\r\n                  <Select value={formData.category} onChange={(e) => setFormData({ ...formData, category: e.target.value })}>\r\n                      {selectedCategories.map((c) => <MenuItem key={c.type} value={c.type}>{c.type}</MenuItem>)}\r\n                  </Select>\r\n              </FormControl>\r\n          </Grid>\r\n\r\n         <Grid item xs={6}>\r\n          <TextField type=\"number\" label=\"Amount\" fullWidth value={formData.amount} onChange={(e) => setFormData({ ...formData, amount: e.target.value })} />     \r\n        </Grid>\r\n      \r\n        <Grid item xs={6}>\r\n          <TextField type=\"date\" label=\"Date\" fullWidth value={formData.date} onChange={(e) =>setFormData({ ...formData, date: e.target.value })} />     \r\n        </Grid>\r\n\r\n        <Button className={classes.button} variant=\"outlined\" color=\"primary\" fullWidth onClick={createTransaction}>Add</Button>\r\n      </Grid>\r\n  );\r\n};\r\n\r\nexport default Form;","C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\styles.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\List\\styles.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\components\\Main\\Form\\styles.js",[],"C:\\Users\\surya\\Programming\\Web Apps\\speechly-money-tracker-app\\src\\utils\\formatDate.js",[],{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","replacedBy":"101"},{"ruleId":"98","replacedBy":"102"},{"ruleId":"100","replacedBy":"103"},{"ruleId":"104","severity":1,"message":"105","line":74,"column":10,"nodeType":"106","endLine":74,"endColumn":19,"suggestions":"107"},"no-native-reassign",["108"],"no-negated-in-lhs",["109"],["108"],["109"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'createTransaction', 'formData', and 'initialState'. Either include them or remove the dependency array. You can also do a functional update 'setFormData(f => ...)' if you only need 'formData' in the 'setFormData' call.","ArrayExpression",["110"],"no-global-assign","no-unsafe-negation",{"desc":"111","fix":"112"},"Update the dependencies array to be: [createTransaction, formData, initialState, segment]",{"range":"113","text":"114"},[3147,3156],"[createTransaction, formData, initialState, segment]"]